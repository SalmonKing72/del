/*
    Name: assessment == QuestionaireResponse
    Algebra: assessment X message = Operad[PAC(CareService) \ Questionaire]
        partOf(Procedure)
        questionnaire(Questionnaire)
            uri
            id
            version
            context
            type

        status
        authored
        item.<> == Questionnaire/question.<>
*/

Grammar:		DataElement 5.0
Namespace:		assessment
Description:	"Assessment represents an IMPACT-DEL defined message.  This is associated to a standard Questionaire, and indexed by a kind of PAC operation."
Uses:			shr.core, shr.base

EntryElement:   Assessment
Description:    "A response to questionnaire based on standard clinical measure."
1..1    assessmentId
1..1    timeStamp
1..1    Status
1..*    question.answer
0..1    assessmentSchema
0..1    assessmentOperand

    Element:        assessmentId
    Description:    "Identifier for the assessment response."
    Value:          id

    Element:        timeStamp
    Description:    "Date for the gathered answer set."
    Value:          dateTime

    Element:        Status
    Description:    "Status of the assessment: draft, active, retired, unknown."
    Value:          http://hl7.org/fhir/ValueSet/questionnaire-answers-status

    Element:        question
    Description:    "Standard question in a questionnaire."
    Value:          question

        Element:        answer
        Description:    "Standard answer setting for a question."
        Value:          string
        // Needs a slice assigning answer sets to questions
        // QUESTION: How to reference various DEL.questions.answers? 

EntryElement:   AssessmentDocument
Description:    "A standard presentation for the assessment data."
1..1    resourceLocation
1..1    documentId
0..1    version
0..*    context
0..1    documentCode
1..*    question

    Element:        resourceLocation
    Description:    "Web location for document resource structure."
    Value:          uri
    // Should point to code assignment to document form resource

    Element:        documentId
    Description:    "Identifier for the questionnaire."
    Value:          id
    // Is there a registry for questionnaire formats?  Hosting structure sufficient?

    Element:        Version
    Description:    "Current version for the questionnaire."
    Value:          string

    Element:        clinicalContext
    Description:    "Operational concept underlying the questionnaire context."
    Value:          AssessmentContextVS

    Element:        documentCode
    Description:    "Type indentifier for the questionnaire procedural code."
    Value:          http://hl7.org/fhir/ValueSet/questionnaire-questions
/*
    Element:        question
    Description:    "Individual questions in the questionnaire."
    Value:          question
    // Need to reference CodeSystem in Questionnaire resource uri
*/