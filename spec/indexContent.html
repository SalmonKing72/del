<h1>CMS Data Element Library - FHIR Implementation Guide</h1>

<p>This is the FHIR Implementation Guide for CMS Data Element Library</p>

<p>We are attempting to take a hybrid approach. This means the following...</p>

<p>
    Each standard form will be represented by a Questionnaire resource.
    The sections, subsections, and questions will be represented as items within the questionnaire.
</p>

<p>
    Since it's not always easy or possible to find specific items within a questionnaire,
    standard forms will have an additional representation as Library and Measure resources.
</p>

<p>
    Each standard form will be represented by a Library.
    Each standard form question will be represented by a Measure resource.
</p>

<p>
    Using this approach, each standard form should be able to be reconstituted using the Questionnaire resource.
    You can query for individual questions by using the Measure resource.
</p>

<h2>Questionnaire Resource</h2>

<p>
    Each record in asmt_vrsn will become one Questionnaire resource in FHIR.
    The sections, subsections, and questions will be represented as items within the questionnaire.
</p>

<table class="table table-bordered">
    <tr>
        <th>FHIR Field</th>
        <th>DEL Field(s)</th>
        <th>Notes</th>
    </tr>
    <tr>
        <td>name</td>
        <td>asmt.asmt_shrt_name<br>asmt.asmt_vrsn_id</td>
        <td>Fields are joined using a dash (-) in the format <code>{asmt_shrt_name}-{asmt_vrsn_id}</code>. Example:
            LCDS-1.01.</td>
    </tr>
    <tr>
        <td>status</td>
        <td>asmt_vrsn.asmt_stus_id</td>
        <td>1 = active, 4 = retired, all others = draft</td>
    </tr>
    <tr>
        <td>date</td>
        <td>asmt.creat_ts</td>
        <td></td>
    </tr>
    <tr>
        <td>name</td>
        <td>asmt.asmt_shrt_name</td>
        <td>All characters except letters and numbers are removed.</td>
    </tr>
    <tr>
        <td>version</td>
        <td>asmt.asmt_vrsn_id</td>
        <td></td>
    </tr>
    <tr>
        <td>publisher</td>
        <td>org.org_name</td>
        <td></td>
    </tr>
    <tr>
        <td>title</td>
        <td>asmt.asmt_name</td>
        <td></td>
    </tr>
    <tr>
        <td>description</td>
        <td>asmt.asmt_desc</td>
        <td></td>
    </tr>
    <tr>
        <td>approvalDate</td>
        <td>asmt_vrsn.pblctn_dt</td>
        <td>Only populated if field value is not null.</td>
    </tr>
    <tr>
        <td>effectivePeriod.start</td>
        <td>asmt_vrsn.efctv_strt_dt</td>
        <td></td>
    </tr>
    <tr>
        <td>effectivePeriod.end</td>
        <td>asmt_vrsn.efctv_end_dt</td>
        <td>Only populated if field value is not null.</td>
    </tr>
    <tr>
        <td>item[]</td>
        <td></td>
        <td>Populated with list of questions or list of sections.</td>
    </tr>

</table>

<h3>Section Mapping</h3>

<table class="table table-bordered">
    <tr>
        <th>FHIR Field</th>
        <th>DEL Field(s)</th>
        <th>Notes</th>
    </tr>
    <tr>
        <td>item[].linkId</td>
        <td>asmt_sect_rfrnc.asmt_sect_id</td>
        <td>
            Prefixed with a string in the format <code>Section-${asmt_sect_id}</code>
        </td>
    </tr>
    <tr>
        <td>item[].text</td>
        <td>asmt_sect_rfrnc.asmt_sect_name</td>
        <td></td>
    </tr>
    <tr>
        <td>item[].type</td>
        <td><i>group</i></td>
        <td>Hard-coded to value "group".</td>
    </tr>
    <tr>
        <td>item[].readOnly</td>
        <td><i>true</i></td>
        <td>Hard-coded to value "true".</td>
    </tr>
    <tr>
        <td>item[].item[]</td>
        <td></td>
        <td>Populated with list of questions or list of sub-sections.</td>
    </tr>
</table>

<h3>Question Mapping</h3>

<p>There are parent questions</p>

<table class="table table-bordered">
    <tr>
        <th>FHIR Field</th>
        <th>DEL Field(s)</th>
        <th>Notes</th>
    </tr>
    <tr>
        <td>item[].linkId</td>
        <td>
            asmt_sect_rfrnc.asmt_sect_id<br>
            data_ele_qstn.qstn_label_name
        </td>
        <td>
            Prefixed with a string in the format <code>Section-${asmt_sect_id}/${qstn_label_name}</code>
            All characters except letters and numbers are removed from qstn_label_name.
        </td>
    </tr>
    <tr>
        <td>item[].text</td>
        <td>data_ele_qstn.qstn_txt</td>
        <td></td>
    </tr>
    <tr>
        <td>item[].type</td>
        <td>data_ele_rspns.rspns_dtype_name</td>
        <td>
            character = text,
            number = integer,
            date = date,
            all others = group
            TODO: if choices
        </td>
    </tr>
    <tr>
        <td>item[].repeats</td>
        <td>data_ele_rspns.rspns_type_name</td>
        <td>If value is checklist then <i>true</i>, otherwise <i>false</i>.</td>
    </tr>
    <tr>
        <td>item[].readOnly</td>
        <td>data_ele_rspns.rspns_dtype_name</td>
        <td>If field is a group then <i>true</i>, otherwise <i>false</i>.</td>
    </tr>
</table>

<h2>Library Resource</h2>

<table class="table table-bordered">
    <tr>
        <th>FHIR Field</th>
        <th>DEL Field(s)</th>
        <th>Notes</th>
    </tr>
</table>

<h2>Measure Resource</h2>

<table class="table table-bordered">
    <tr>
        <th>FHIR Field</th>
        <th>DEL Field(s)</th>
        <th>Notes</th>
    </tr>
</table>
